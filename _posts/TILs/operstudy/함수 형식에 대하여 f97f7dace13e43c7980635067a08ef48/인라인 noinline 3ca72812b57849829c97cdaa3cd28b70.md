# 인라인/noinline

- 인라인 함수는 작은 함수에 사용
- 다른 함수를 사용하는 함수를 인라인으로 만들면 컴파일 후 상당히 큰 코드 구조가 생성
- 인라인 함수는 자신보다 엄격한 가시성 한정자를 가진 요소를 사용할 수 없다
- api를 보호하기 위해 최대한 많은 함수를 private로 만들어야 하는 라이브러리에서 인라인을 사용할 때는 문제

## noinline

함수 형식 매개변수를 위한 한정자

특정 함수를 일반 함수 형식 매개변수로 취급하도록 지정

왜 사용하나

- 특정한 람다를 다른 함수로 전달해야 할 때
- 람다를 많이 호출하지만 코드가 지나치게 비대해지는걸 막기위해

## 논로컬 반환

함수 매개변수가 있는 함수가 기본제어구조와 비슷하게 작동

ifSupportsLolipop 함수와 repeatUntilError 함수가 대표적인 예

forEach 함수 안에서는 바깥 함수로부터 반환할 수없다

## 라벨

코틀린에서 함수 인수로서 정의된 람다식은 함수의 이름과 같은 기본 라벨을 갖는다. 이 라벨을 암시적 라벨이라고 한다.

forEach 함수에 정의된 람다식에서 반환하려면 return@forEach를 사용

(규칙)

- 암시적 라벨의 이름은 함수 이름에서 가져온다

## Crossinline

인라인 함수 형식 매개변수를 함수 본체가 아닌 로컬 객체나 중첩된 함수 같은 실행 컨텍스트에서 사용해야 하는 경우가 존재. 인라인 함수의 표준 함수 형식 매개변수는 논로컬 반환을 허용하며, 이를 금지해야 이 함수를 다른 실행 컨텍스트에서 사용 할 수 있다.논로컬 반환을 금지하도록 컴파일러에게 알리려면 매개변수에 crossinline 을 지정.

```kotlin
inline fun foo(crossinline f: () ->Unit){
	boo{println("A"); F()}
}
```