---
layout: post
title: Dell E5450 Bricked after applying CCTK exe command
date: '2017-03-22T08:09:00.000-07:00'
author: syswow64
tags:
- trustexecution
- E5450
- Enterprise IT
- CCTK
- dell
- Post
- Bricked
- sccm
modified_time: '2017-06-09T07:27:19.798-07:00'
blogger_id: tag:blogger.com,1999:blog-4452544758446808584.post-802965660088707457
blogger_orig_url: https://www.syswow64.co.uk/2017/03/dell-e5450-bricked-after-applying.html
---

<h2><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: large;">Dell E5450 Bricked after applying CCTK.exe command</span></span></h2><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">Dell E5450 with i3 Processors a CCTK.exe warning</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;"><br /></span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">We recently had our E5450 Latitude failing to post following a stand SCCM Window Task Sequence. &nbsp;It was collected for diagnosis and motherboard swap out. &nbsp;While no diagnosis was performed (pointless sending away) we was returned within a few days with a new motherboard.</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;"><br /></span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">Upon receiving it I cautiously rebuilt it with success with a cut down version of the task sequence; I have simply installed the Windows Image (WIM) and driver package. &nbsp;Upon introducing additional steps to the SCCM task sequence I see a complete failure of the BIOS as previously experienced.</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;"><br /></span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">The failed post was the result of CCTK.EXE modifying BIOS settings.</span></span></div><div class="MsoNormal"><br /></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">We are using the latest version of CCTK 3.2 with the following commands;&nbsp;</span></span></div><div class="MsoNormal"><br /></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --secureboot=enable --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --wakeonlan=enable --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --uefinwstack=enable --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --embsataraid=ahci --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --tpm=on --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --tpmactivation=activate --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --virtualization=enable --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --vtfordirectio=on --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --trustexecution=on --valsetuppwd=PASSWORD</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">cctk --autoon=disable --valsetuppwd=PASSWORD&nbsp;</span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;"><br /></span></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 14.6667px;">After analysis and discussion with Dell product groups they found that CCTK is forcefully arming TrustExecution in a way that conflicts the chain of trust. The basis of this is because the i3 CPUs within that unit model do not fully support Trust Execution which has been causing the NO POST via the CPU failure.</span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 14.6667px;"><br /></span></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 14.6667px;">When this happens its driving the first measurement of the CPU to validate the signed module which isnâ€™t supported (PCR 0 which holds the Core Root of Trust Measurement (CRTM). The issue was not replicated on any i5 or i7 systems we have in our lab.</span></div><div class="MsoNormal"><br /></div><div class="MsoNormal"><span style="font-family: &quot;calibri&quot; , sans-serif;"><span style="font-size: 14.6667px;">Moving Forward; Dell recommend any units in a failed state have the motherboard replaced and to remove TrustExecution Command from your CCTK.ini&nbsp;</span></span></div>
